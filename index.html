<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Worker Lookup â€” Neon Auto</title>

<style>
    body { margin:0; background:#02030a; color:white; font-family:Poppins, sans-serif; }

    /* HEADER */
    .header{
        padding:15px; display:flex; gap:12px; align-items:center;
        background:rgba(0,20,35,0.6);
        border-bottom:2px solid #00eaff;
        box-shadow:0 0 18px #00eaff;
    }
    .header img{
        width:48px; height:48px; border-radius:10px;
        border:2px solid #00eaff; box-shadow:0 0 12px #00eaff;
    }
    .header-title{ display:flex; flex-direction:column; }
    .header-title span:first-child{
        font-size:20px; font-weight:600; text-shadow:0 0 10px #00eaff;
    }
    .header-title span:last-child{
        font-size:12px; color:#9bc4d7;
    }

    /* MAIN */
    h1{text-align:center;margin-top:25px;color:#00eaff;text-shadow:0 0 12px #00eaff;}
    .box{display:flex;justify-content:center;gap:10px;margin-top:20px;}
    input{
        padding:12px;width:250px;border-radius:10px;border:none;
        background:rgba(255,255,255,0.08);color:white;outline:none;
        font-size:15px; box-shadow:0 0 10px rgba(0,255,255,0.3);
    }
    button{
        padding:12px 20px;background:#00eaff;border:none;border-radius:10px;
        font-weight:700;font-size:15px;color:#001;cursor:pointer;
        box-shadow:0 0 12px #00eaff;
    }
    button:hover{ transform:scale(1.05); }

    .error{text-align:center;margin-top:10px;color:#ff6b6b;display:none;font-size:14px;}

    /* RESULT CARD */
    .card{
        width:90%;max-width:450px;margin:25px auto;padding:18px;
        background:rgba(0,20,35,0.7);
        border-radius:15px; display:none;
        box-shadow:0 0 20px #00eaff inset, 0 0 20px #00eaff;
        animation:fade .4s ease;
    }
    @keyframes fade{
        from{opacity:0;transform:scale(0.95);}
        to{opacity:1;transform:scale(1);}
    }

    .item{margin-bottom:12px;}
    .label{color:#8fa4b3;font-size:13px;}
    .value{font-size:15px;font-weight:600;text-shadow:0 0 10px #00eaff;}

    .chip{
        background:rgba(0,255,255,0.15);
        padding:5px 8px; border:1px solid #00eaff;
        display:inline-block; border-radius:8px;
        margin:3px; font-size:12px;
        text-shadow:0 0 8px #00eaff;
    }
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
    <img src="logo.png">
    <div class="header-title">
        <span>Company Worker Lookup</span>
        <span>Neon Auto-View Edition</span>
    </div>
</div>

<h1>Worker Search</h1>

<div class="box">
    <input id="number" placeholder="Enter Mobile Number">
    <button onclick="searchNow()">Search</button>
</div>

<div class="error" id="error"></div>

<div class="card" id="result"></div>

<!-- JAVASCRIPT -->
<script>
const API_URL = "https://meowmeow.rf.gd/gand/mobile.php?num=";

function searchNow(){
    let num = document.getElementById("number").value.trim();
    if(num.length < 5){
        showError("Enter valid number");
        return;
    }

    fetch(API_URL + num)
    .then(res => res.text())
    .then(text => {
        try{
            let json = JSON.parse(text);

            // MAIN FIX ðŸ”¥ (Your data is inside result[0])
            if(json.result && Array.isArray(json.result) && json.result.length > 0){
                displayData(json.result[0]);
            } else {
                showError("No record found");
            }

        }catch(e){
            showError("Invalid response format");
        }
    })
    .catch(() => showError("Network/API error"));
}

function showError(msg){
    document.getElementById("error").style.display = "block";
    document.getElementById("error").innerText = msg;
    document.getElementById("result").style.display = "none";
}

function displayData(data){
    document.getElementById("error").style.display = "none";

    let html = "";

    for(let key in data){
        let value = data[key];

        // If address contains "!" â†’ auto-split chips
        if(typeof value === "string" && value.includes("!")){
            html += `<div class='item'>
                        <div class='label'>${key}</div>
                        <div class='value'>${value}</div>
                        <div>`;
            value.split("!").forEach(p=>{
                if(p.trim().length>0)
                    html += `<span class='chip'>${p}</span>`;
            });
            html += "</div></div>";

        } else {
            html += `
                <div class='item'>
                    <div class='label'>${key}</div>
                    <div class='value'>${value}</div>
                </div>`;
        }
    }

    document.getElementById("result").innerHTML = html;
    document.getElementById("result").style.display = "block";
}
</script>

</body>
</html>
